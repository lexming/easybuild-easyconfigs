easyblock = 'PythonBundle'

name = 'PyTorch-Lightning'
version = '1.8.2'
versionsuffix = '-CUDA-%(cudaver)s'

homepage = 'https://pytorchlightning.ai'
description = "PyTorch Lightning is the lightweight PyTorch wrapper for ML researchers."

toolchain = {'name': 'foss', 'version': '2022a'}

dependencies = [
    ('CUDA', '11.7.0', '', SYSTEM),
    ('Python', '3.10.4'),
    ('PyTorch', '1.12.0', versionsuffix),
    ('tqdm', '4.64.0'),
    ('tensorboard', '2.10.0'),
]

exts_list = [
    ('lightning-cloud', '0.5.12', {
    }),
    ('fsspec', '2022.11.0', {
        'checksums': ['259d5fd5c8e756ff2ea72f42e7613c32667dc2049a4ac3d84364a7ca034acb8b'],
    }),
    ('pyDeprecate', '0.3.2', {
        'modulename': 'deprecate',
        'checksums': ['d481116cc5d7f6c473e7c4be820efdd9b90a16b594b350276e9e66a6cb5bdd29'],
    }),
    ('torchmetrics', '0.10.3', {
        'checksums': ['9e6ab66175f2dc13e246c37485b2c27c77931dfe47fc2b81c76217b8efdc1e57'],
    }),
    # stick to termcolor 1.x, to avoid hatchling required dependency
    ('termcolor', '1.1.0', {
        'checksums': ['1d6d69ce66211143803fbc56652b41d73b4a400a2891d7bf7a1cdf4c02de613b'],
    }),
    ('fire', '0.4.0', {
        'checksums': ['c5e2b8763699d1142393a46d0e3e790c5eb2f0706082df8f647878842c216a62'],
    }),
    ('lightning-utilities', '0.3.0', {
        'checksums': ['d769ab9b76ebdee3243d1051d509aafee57d7947734ddc22977deef8a6427f2f'],
    }),
    ('pytorch-lightning', version, {
        'checksums': ['480f3396cd63888c4e5ec2f21c02fe662a2b035d9634e6f31fcf1197a36ebd15'],
    }),
]

use_pip = True
sanity_pip_check = True

moduleclass = 'lib'
